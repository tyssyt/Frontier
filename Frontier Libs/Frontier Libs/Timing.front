import Kernel32;

export namespace Timing:

    export getTimestamp() -> int64 {
        ts : int64 = 0;
        Kernel32.getTimestamp(native[].of(ts));
        return ts;
     }

    export time<I,O>(fun: (I->O), params: I) -> O, int64 { //TODO fix tuple inst for generic functions
        start := getTimestamp();
        res := fun(params);
        end := getTimestamp();
        return res, end-start;
    }