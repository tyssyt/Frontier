import IO;
import Strings;

class G<T>:
    constructors;

    t: T;

    get() -> T {
        return t;
    }
class O<T>:
    constructors;

    t: T?;

    get() -> T? {
        return t;
    }

export class Main:

export static main() {
    printInt(0);
    {
        test := O<int64>();
        if (test.get()) {
            printInt(test.get()!);
        }
    }
    {
        test := O<int64>(t=2);
        if (test.get()) {
            printInt(test.get()!);
        }
    }
    {
        test := O<int64?>();
        if (test.get()) {
            printInt(test.get()!);
        }
    }
    {
        test := O<int64?>(t=4);
        if (test.get()) {
            printInt(test.get()!);
        }
    }

    {
        test := G<int64>(t=5);
        printInt(test.get());
    }
    {
        test := G<int64?>(t=6);
        if (test.get()) {
            printInt(test.get()!);
        }
    }
    {
        test := G<int64?>(t=null); //TODO this null should not be necessary, but in the current state of constructors it is, the ToDo document has a note on this
        if (test.get()) {
            printInt(test.get()!);
        }
    }
    printInt(8);
}

static printInt(l: int64) {
    IO.print(Strings.intToString(l));
}