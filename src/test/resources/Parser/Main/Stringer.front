import Stringer;
import IO;
import Type;


import Native;


class Something<T>:
constructors;
    i: int32;
    f: float32;
    arr: [int64];
    t: T;
    q: SomethingElse;


class SomethingElse:
constructors;
    i: int32;

    Stringer.toString() -> [char] {
        return "a cat";
    }

export class Main:

export static main() {
    arr := [int64, 3];
    arr[0] = 22;
    arr[1] = -1337;
    arr[2] = 0;
    obj := Something<(int32,char,[char]?,Main?)>(i=5,f=(-3.6).toFloat32,arr=arr, t=(5, "a", "tuple", null), q=SomethingElse(i=1));

    IO.printLine(Stringer.toString(obj));

    i : int32 = 1;
    IO.printLine(Stringer.format("% + % = %", i, (3.14).toFloat32, "cat")); //TODO float64
    IO.printLine(Stringer.format("i made a %", "upsiedaisy")); //unintended side effect
    IO.printLine(Stringer.format("i made a %", "upsiedaisy", "")); //workaround
    IO.printLine(Stringer.format("o7 %%%%", "%", i, i, arr)); //how to print a "%" and more
}